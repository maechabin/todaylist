window.today=window.today||{},window.today.list=window.today.list||{},function(t,e,o,n){"use strict";n.json={},n.setCookie=function(){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date,i={year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),week:n.getDay()},a=t[i.week]+", "+i.day+" "+e[i.month]+" "+i.year+" 14:59:59 GMT";o.cookie="_m8_daily_visited=true;expires="+a},n.getCookie=function(){var t,e,n=[],i=o.cookie;if(""!==i){t=i.split("; ");for(var a=0,r=t.length;r>a;a++)e=t[a].split("="),n[e[0]]=e[1]}return n},n.fetchCSV=function(){var e=(location.protocol,new t.Deferred);return t.ajax({url:"http://localhost:8888/recommend/src/php/index.php?url=http://localhost:8888/recommend/src/php/load.php",type:"get",processData:!1,contentType:!1,success:e.resolve,error:e.reject}),e.promise()},n.extractData=function(){var o=this,n=t(e);this.fetchCSV().done(function(t){var e=t.split("\n");o.generateJson(e),n.trigger("start_view")}).fail(function(){console.log("Ajax error !!")})},n.generateJson=function(t){for(var e=new Date,o=e.getMonth()+1,n=e.getDate(),i=o+"��"+n+"��",a=t,r=0,l=a.length;l>r;r++){var s=a[r].split(",");s[0]===i&&(this.json.date=s[0],this.json.pid=s[1],this.json.pname=s[2],this.json.comment=s[3]||"")}},n.init=function(){var t=this.getCookie();"true"!==t._m8_daily_visited&&(this.extractData(),this.setCookie())}}(jQuery,window,document,window.today.list),function(t,e,o,n,i){"use strict";n.makeView=function(e){var n=[e],a=t.createClass({displayName:"ProgramBox",style:{div:{"font-family":"�ᥤ�ꥪ",color:"#546E7A",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",opacity:1,"z-index":1e3,width:"90%","max-width":"540px","min-width":"300px",height:"160px","background-color":"#fff",border:"6px solid #c62828","border-radius":"3px","padding-bottom":"16px","box-shadow":"0 2px 4px #111"},title:{margin:"0","line-height":"28px","font-size":"18px","text-align":"center","background-color":"#c62828",color:"#fff","padding-bottom":"6px"},p:{"font-size":"12px","margin-bottom":0,position:"absolute",bottom:0,left:"16px"}},render:function(){return t.createElement("div",{style:this.style.div,className:"programBox"},t.createElement("h2",{style:this.style.title},"�����Τ��������ץ�����"),t.createElement(r,{data:this.props.data}),t.createElement(l,null),t.createElement("p",{style:this.style.p},"���������ξ�����1��1���Τߤ�ɽ���Ȥʤ��ޤ���"))}}),r=t.createClass({displayName:"ProgramList",render:function(){var e={ul:{"margin-top":"2px","text-align":"center","font-size":"16px","font-weight":"bold","list-style-type":"none","padding-left":0,"margin-left":0},date:{"margin-top":"8px","font-size":"14px"},name:{"text-align":"left",margin:"4px 16px 0","line-height":"1.4em"},a:{color:"#FF3D00","text-decoration":"underline"},comment:{"text-align":"left","font-size":"14px","font-weight":"normal",margin:"4px 16px 0"}},o=this.props.data.map(function(o){var n="/a8v2/asProgramSearchAction.do?action=confirm&insIds="+o.pid+"&r=todaylist",i="ga('send', 'event', 'login-top', 'click', 'today-osusume-"+o.pid+"');";return t.createElement("ul",{style:e.ul},t.createElement("li",{style:e.date},"��",o.date,"��"),t.createElement("li",{style:e.name},t.createElement("a",{href:n,style:e.a,onclick:i},o.pname)),t.createElement("li",{style:e.comment},o.comment))});return t.createElement("div",null,o)}}),l=t.createClass({displayName:"ClearButton",clearBox:function(t){t.preventDefault();var e=$(".programBox");e.fadeOut(500)},style:{"font-family":"'Helvetica Neue',Helvetica,Arial,sans-serif",width:"28px !important",height:"28px !important",margin:0,pading:0,"vertical-align":"middle","line-height":"28px","text-align":"center","background-color":"#fff",border:"none",cursor:"pointer","border-radius":"10px","font-size":"18px","font-weight":"bold",position:"absolute",top:"0",right:"0","z-index":1001,color:"#455A64","box-shadow":"inset 0 0 1px #333"},render:function(){return t.createElement("button",{style:this.style,className:"clearButton",onClick:this.clearBox},"��")}});n[0].date!==i&&t.render(t.createElement(a,{data:n}),o.getElementById("todaylist"))}}(React,window,document,window.today.list),function(t,e,o,n){"use strict";t(o).ready(function(){var o=t(e);n.init(),o.on("start_view",function(){var t=n.json;setTimeout(function(){n.makeView(t)},500)})})}(jQuery,window,document,window.today.list);